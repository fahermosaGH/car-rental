<section class="detalle-wrapper" *ngIf="vehiculo">
  <button routerLink="/cotizar/resultados" class="btn-volver">
    ‚Üê Volver a resultados
  </button>

  <div class="detalle-card">
    <div class="img-wrapper">
      <img [src]="vehiculo!.img" [alt]="vehiculo!.name" />
    </div>

    <div class="info">
      <h2 class="title-row">
        {{ vehiculo!.name }}
        <span *ngIf="unitsAvailable !== undefined" class="badge-disponibles"
              [class.no]="unitsAvailable <= 0">
          {{ unitsAvailable > 0 ? ('Quedan ' + unitsAvailable) : 'Sin stock' }}
        </span>
      </h2>

      <p class="categoria">{{ vehiculo!.category }}</p>

      <div class="atributos">
        <p><strong>Transmisi√≥n:</strong> {{ vehiculo!.transmission }}</p>
        <p><strong>Combustible:</strong> {{ vehiculo!.fuel }}</p>
        <p><strong>Descripci√≥n:</strong> {{ vehiculo!.description }}</p>
      </div>

      <div class="tarifas">
        <p><strong>Tarifa diaria:</strong> {{ vehiculo!.dailyRate | currency:'ARS' }}</p>
        <p><strong>Cantidad de d√≠as:</strong> {{ dias }}</p>
      </div>

      <h3>Extras disponibles</h3>
      <div class="extras">
        <label>
          <input type="checkbox" [(ngModel)]="extras.seguro" (change)="actualizarTotal()" />
          Seguro (+{{ preciosExtras.seguro | currency:'ARS' }})
        </label>

        <label>
          <input type="checkbox" [(ngModel)]="extras.silla" (change)="actualizarTotal()" />
          Silla para ni√±o (+{{ preciosExtras.silla | currency:'ARS' }})
        </label>

        <label>
          <input type="checkbox" [(ngModel)]="extras.gps" (change)="actualizarTotal()" />
          GPS (+{{ preciosExtras.gps | currency:'ARS' }})
        </label>
      </div>

      <div class="total-box">
        <h3>Total estimado: {{ total | currency:'ARS' }}</h3>
        <p class="fechas">
          <strong>Desde:</strong> {{ startAt | date:'dd/MM/yyyy' }}<br />
          <strong>Hasta:</strong> {{ endAt   | date:'dd/MM/yyyy' }}
        </p>
        <small *ngIf="checking">Verificando disponibilidad‚Ä¶</small>
        <small *ngIf="errorMsg" class="error">{{ errorMsg }}</small>
      </div>

      <button class="btn-reservar"
              [disabled]="botonDeshabilitado"
              (click)="confirmarReserva()">
        {{ creating ? 'Creando reserva...' : 'Confirmar reserva' }}
      </button>
    </div>
  </div>
</section>

<!-- Sin datos -->
<div *ngIf="!vehiculo" class="loading">
  üöò Cargando informaci√≥n del veh√≠culo...
</div>
