<section class="page-flota">
  <header class="page-header">
    <h2>Flota de vehículos</h2>
    <p class="page-subtitle">
      Consulta el listado completo de vehículos disponibles en el sistema.
    </p>
  </header>

  <div *ngIf="loading" class="state state-info">
    Cargando flota...
  </div>

  <div *ngIf="error" class="state state-error">
    {{ error }}
  </div>

  <table
    *ngIf="!loading && !error && vehicles.length"
    class="data-table"
  >
    <thead>
      <tr>
        <th>Vehículo</th>
        <th>Categoría</th>
        <th>Año</th>
        <th>Pasajeros</th>
        <th>Transmisión</th>
        <th>Tarifa diaria</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let v of vehicles">
        <td>
          <strong>{{ v.brand }} {{ v.model }}</strong>
        </td>
        <td>{{ v.category || 'Sin categoría' }}</td>
        <td>{{ v.year || '—' }}</td>
        <td>{{ v.seats || '—' }}</td>
        <td>{{ v.transmission || '—' }}</td>
        <td>
          <span *ngIf="v.dailyRate !== null; else sinTarifa">
            {{ v.dailyRate | currency : 'ARS' : 'symbol-narrow' : '1.0-0' }}
          </span>
          <ng-template #sinTarifa> — </ng-template>
        </td>
        <td>
          <span class="badge" [class.badge-ok]="v.isActive" [class.badge-off]="!v.isActive">
            {{ v.isActive ? 'Activo' : 'Inactivo' }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>

  <p
    *ngIf="!loading && !error && !vehicles.length"
    class="state state-info"
  >
    No hay vehículos cargados en el sistema.
  </p>
</section>
